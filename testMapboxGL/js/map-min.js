function addSources(){map.addSource("countyPolygons",{type:"geojson",data:"/data/geojson/countyPolygon_v2.geojson"}),map.addSource("cityPoints",{type:"geojson",data:"/data/geojson/citiesPoints_v1.geojson"}),map.addSource("cityPolygons",{type:"geojson",data:"/data/geojson/citiesPolygons_v2.geojson"})}function addLayers(){map.addLayer({id:"countyPolygon-fills",type:"fill",source:"countyPolygons",layout:{},paint:{"fill-color":"#627BC1","fill-opacity":.5}}),map.addLayer({id:"countyPolygon-borders",type:"line",source:"countyPolygons",layout:{},paint:{"line-color":"#627BC1","line-width":1}}),map.addLayer({id:"countyPolygon-hover",type:"fill",source:"countyPolygons",layout:{},paint:{"fill-color":"#627BC1","fill-opacity":1},filter:["==","NAME10",""]}),map.addLayer({id:"countyPolygon-click",type:"fill",source:"countyPolygons",layout:{},paint:{"fill-color":"#627BC1","fill-opacity":1},filter:["==","NAME10",""]}),map.addLayer({id:"cityPoints",type:"circle",source:"cityPoints",layout:{},paint:{"circle-color":"orange","circle-radius":5}})}var simpleMapzen={version:8,sources:{osm:{type:"vector",tiles:["https://vector.mapzen.com/osm/all/{z}/{x}/{y}.mvt?api_key=vector-tiles-LM25tq4"]}},layers:[{id:"background",type:"background",paint:{"background-color":"#ededed"}},{id:"water",type:"fill",source:"osm","source-layer":"water",filter:["==","$type","Polygon"],paint:{"fill-color":"#7acad0"}},{}]},clickedCountyName;if(mapboxgl.supported())var map=new mapboxgl.Map({container:"map",style:simpleMapzen,center:[-88.7879,43.7844],zoom:5.75});else alert("Your browser does not support Mapbox GL");map.dragRotate.disable(),map.touchZoomRotate.disableRotation();var popup=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});map.on("load",function(){addSources(),addLayers()}),map.on("click",function(o){var e=map.queryRenderedFeatures(o.point,{layers:["countyPolygon-fills"]});if(!e.length)return map.setFilter("countyPolygon-hover",["==","NAME10",""]),void a.remove();map.setFilter("countyPolygon-click",["==","NAME10",e[0].properties.NAME10]),clickedCountyName=e[0].properties.NAME10;var t=e[0];popup.remove();var a=(new mapboxgl.Popup).setLngLat(map.unproject(o.point)).setHTML(t.properties.NAME10+" County<br>Population 2010: "+t.properties.POP2010+"<br>Population 2000: "+t.properties.POP2000+"<br><a href='"+t.properties.Govt_Websi+"' target='_blank'>Government Website</a>").addTo(map);console.log(a.innerHTML)}),map.on("mousemove",function(o){var e=map.queryRenderedFeatures(o.point,{layers:["countyPolygon-fills"]});if(map.getCanvas().style.cursor=e.length?"pointer":"",!e.length)return map.setFilter("countyPolygon-hover",["==","NAME10",""]),void popup.remove();if(clickedCountyName!=e[0].properties.NAME10){map.setFilter("countyPolygon-hover",["==","NAME10",e[0].properties.NAME10]);var t=e[0];popup.setLngLat(map.unproject(o.point)).setHTML(t.properties.NAME10+" County<br>Click for more info").addTo(map)}}),map.on("mouseout",function(){map.setFilter("countyPolygon-hover",["==","NAME10",""])});